# Core4 Centre Documentation

**Core4** - 28-or-Die Daily Habits (Part of THE CORE)

**Last Updated:** 2026-01-10

---

## Œ±OS Philosophy: What MUST Be

> "From the beginning, humanity was given a divine gift‚Äîdominion. This wasn't just a command to control the world around us, but a deeper call to master ourselves." ‚Äî Œ±OS (Chapter 13)

### Purpose

**28-or-Die Tracking** - Daily energy investment in ALL 4 Domains.

**The Gift of DOMINION:**
- Not about ruling others, but mastering yourself
- Command to "multiply and replenish" = expand potential + renew inner strength
- True power = self-dominion across all life areas

**Philosophy:** DOMINION entsteht durch √úberwindung von Widerstand in ALLEN Lebensbereichen, nicht nur einem.

---

## The 4 Domains √ó 8 Tasks = 4 Points Daily

**Daily Formula:**
```
BODY (Fitness + Fuel)           = 1 point
BEING (Meditation + Memoirs)    = 1 point
BALANCE (Partner + Posterity)   = 1 point
BUSINESS (Discover + Declare)   = 1 point
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
TOTAL DAILY                     = 4 points
```

**Weekly Target:** 28 points (4 points/day √ó 7 days) = **"28 or die"**

**Mantra:** "Hit your four before the door to prep for war"

---

## Domain #1: BODY (Chapter 14)

### Philosophy: The Sacred Vessel

> "In the vast universe of our existence, we have one irreplaceable asset: our body. This vessel isn't just a tool‚Äîit's a temple."

**The Body Game:** Fitness + Fuel

**Key Insight:**
- Without body = just an observer, unable to truly experience life
- Most take body for granted until something goes wrong
- Body can be greatest ally or biggest obstacle

---

### Task 1: FITNESS (üèãÔ∏è) = 0.5 points

**Required Question:** "Did you sweat today?"

**Philosophy:**
- Movement is life (stagnant water breeds disease)
- Bodies built to move: run, jump, push, pull, dance
- NOT about perfect image‚Äîabout respect for this machine
- Daily commitment to keep body in top condition

**What Counts:**
- Running, yoga, brisk walk, strength training
- ANY activity that makes you sweat
- 20+ minutes of physical exertion

**Earning the Point:**
- ‚úÖ **0.5 points** = Daily act of movement
- Fitness = 50% of BODY domain score

---

### Task 2: FUEL (üçΩÔ∏è) = 0.5 points

**Required Question:** "What did I nourish my body with today?"

**Philosophy:**
- What you eat affects energy, mood, brainpower, health
- In daily hustle, easy to fill body with junk
- NOT about strict diets or denial
- About making small, intentional choice to care for yourself

**What Counts:**
- Conscious choice to eat well (right proportions)
- Example: Green smoothie, balanced meal
- Simple act of putting GOOD food in body

**Earning the Point:**
- ‚úÖ **0.5 points** = Daily act of nourishment
- Fuel = 50% of BODY domain score

**BODY TOTAL = 1 point** (Fitness 0.5 + Fuel 0.5)

---

## Domain #2: BEING (Chapter 15)

### Philosophy: The Silent Pilot

> "At the core of our being is the soul‚Äîour silent guide. We are not just bodies living in a world; we are souls experiencing life."

**The Being Game:** Meditation + Memoirs

**Key Insight:**
- Soul drives actions, emotions, thoughts
- To tap into soul's power = connect through practice
- Body is vessel, soul is compass

---

### Task 3: MEDITATION (üßò) = 0.5 points

**Required Question:** "Did I meditate today?"

**Philosophy:**
- More than mental exercise‚Äîconnection with soul
- Step away from noise ‚Üí journey inward
- Brings peace, insight, deeper self-understanding
- Centers you, grounds you, aligns internal compass

**What Counts:**
- 20 minutes daily meditation
- ANY form: active meditation, mental prayer, mindfulness
- Quiet mind ‚Üí hear soul's voice

**Earning the Point:**
- ‚úÖ **0.5 points** = Daily act of connection (20 min)
- Meditation = 50% of BEING domain score

---

### Task 4: MEMOIRS (üìù) = 0.5 points

**Required Question:** "Did I write today?"

**Philosophy:**
- Meditation = LISTEN to soul
- Memoirs = EXPRESS what you've heard
- Private space for thoughts and reflections
- Getting what's inside OUT

**What Counts:**
- Basic journaling (daily experiences, challenges, victories)
- Strategic stacking (powerful way to process and progress)
- Writing reflects inner world ‚Üí brings clarity

**The Power:**
- Memoirs = footprints left by soul
- Shows path taken through life
- Offers guidance for future

**Earning the Point:**
- ‚úÖ **0.5 points** = Daily act of creation (writing)
- Memoirs = 50% of BEING domain score

**BEING TOTAL = 1 point** (Meditation 0.5 + Memoirs 0.5)

---

## Domain #3: BALANCE (Chapter 16)

### Philosophy: Life's Intricate Dance

> "Life pulls us away from people who should be at center of our world: our women and children. Balance brings us back to these connections."

**The Balance Game:** Partner + Posterity

**Key Insight:**
- Even with best intentions, loved ones can feel in background
- Love needs to be EXPRESSED and celebrated
- Each relationship = bank account (gratitude = currency)

---

### Task 5: PARTNER (üë•) = 0.5 points

**Required Question:** "Did I express gratitude to Person #1 today?"

**Philosophy:**
- Daily deposits of appreciation
- NOT big dramatic gestures
- Simple gestures, kind words, moments of acknowledgment
- Goal: keep relationship account full and balanced

**What Counts:**
- Use these statements in some form:
  - "I love you."
  - "I honor you."
  - "I appreciate you."
- Ask: "What makes me grateful for this person TODAY?"
- Find SPECIFIC reason and express it
- Via text, email, voice note, video, or handwritten note

**Earning the Point:**
- ‚úÖ **0.5 points** = Daily deposit for spouse/partner/Person #1
- Partner = 50% of BALANCE domain score

---

### Task 6: POSTERITY (üíë) = 0.5 points

**Required Question:** "Did I express gratitude to Person #2 today?"

**Philosophy:**
- Same as Partner, but for children (or second important person)
- Children need to FEEL appreciated, not just assume it
- Build legacy through daily connection

**What Counts:**
- Same as Partner: "I love/honor/appreciate you"
- For ONE of your children (if you have kids)
- OR any second important person in your life
- Find SPECIFIC reason for gratitude today

**Earning the Point:**
- ‚úÖ **0.5 points** = Daily deposit for child/Person #2
- Posterity = 50% of BALANCE domain score

**BALANCE TOTAL = 1 point** (Partner 0.5 + Posterity 0.5)

**Note:** If no wife or children, choose ANY two people. Friends, colleagues, new acquaintances. Foundation = two deliberate deposits of gratitude every day.

---

## Domain #4: BUSINESS (Chapter 17)

### Philosophy: The Business of Life

> "Money matters. Without it, our hands are tied, limiting our ability to reach the life we want."

**The Business Game:** Discover + Declare

**Key Insight:**
- Money fuels dreams
- BIG difference between handling money vs mastering wealth game
- 4 Roles: Making, Keeping, Growing, Leaving Legacy
- Mission: Discover and Declare

---

### Task 7: DISCOVER (üîç) = 0.5 points

**Required Question:** "Did I learn something new about money/business today?"

**Philosophy:**
- Dive into financial knowledge
- NOT random learning‚Äîmission to find what CLICKS
- Learn until insight sparks revelation ("aha" moment)
- Goal NOT to finish book/video‚Äîto learn until something connects

**What Counts:**
- Engage with material: money, marketing, sales, leadership
- ANY skill that grows wealth
- Keep going until "aha" moment
- When you find key insight ‚Üí STOP (mission complete)

**Earning the Point:**
- ‚úÖ **0.5 points** = Daily act of study (until revelation)
- Discover = 50% of BUSINESS domain score

---

### Task 8: DECLARE (üì£) = 0.5 points

**Required Question:** "Did I share what I learned today?"

**Philosophy:**
- Once you found key insight ‚Üí SHARE IT
- Teaching what you learned makes it STICK
- Turn insights into action ‚Üí translates to real financial growth

**What Counts:**
- Write it down (personal note)
- OR post on social media
- OR teach someone
- ANY act of declaring solidifies knowledge

**Earning the Point:**
- ‚úÖ **0.5 points** = Daily act of share (teaching)
- Declare = 50% of BUSINESS domain score

**BUSINESS TOTAL = 1 point** (Discover 0.5 + Declare 0.5)

---

## The 28-or-Die Challenge (Chapter 18)

### Daily Summary

```
BODY     (Fitness üèãÔ∏è + Fuel üçΩÔ∏è)              = 1 point
BEING    (Meditation üßò + Memoirs üìù)         = 1 point
BALANCE  (Partner üë• + Posterity üíë)          = 1 point
BUSINESS (Discover üîç + Declare üì£)           = 1 point
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
DAILY TOTAL                                   = 4 points
```

**"Hit your four before the door to prep for war"**

---

### Weekly Summary

```
Day 1:  4 points
Day 2:  4 points
Day 3:  4 points
Day 4:  4 points
Day 5:  4 points
Day 6:  4 points
Day 7:  4 points
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
WEEKLY TOTAL:  28 points
```

**"28 or die"**

---

### Power Tracking

**Philosophy:**
- Consistent tracking amplifies commitment
- Every point = personal growth, progress, alignment with life's vision
- Journey of evolution

**Why Track:**
1. **Accountability** - You see what you did (or didn't do)
2. **Patterns** - Reveals which domains you neglect
3. **Momentum** - Streaks motivate continued effort
4. **DOMINION** - Proof of mastery across ALL 4 domains

**Critical:**
- Without tracking = vague intentions
- WITH tracking = concrete evidence of DOMINION

---

## Implementation: What IS

### Multi-Platform Status

| Component | GAS | Node.js | Python/CLI |
|-----------|-----|---------|------------|
| **Core4 Tracking** | ‚úÖ Active | ‚úÖ Active | ‚è≥ Missing |
| **Telegram Bot** | ‚úÖ Active | ‚è≥ Missing | ‚è≥ Missing |
| **Weekly Reports** | ‚úÖ Active | ‚è≥ Missing | ‚è≥ Missing |

---

### GAS Implementation

#### Entry
- **UI:** HQ panel in `gas/Index.html`
- **Backend:** `gas/core4.gs`

#### Storage
- **Drive Folder:** `Alpha_Core4` (weekly JSON files)
- **Sheet:** `Core4_Log` (index/summary)
- **Primary Log:** JSON files (sheet is just index)

#### API (GAS Functions)

**Logging:**
```javascript
core4_log(domain, task, timestamp, source, user)
```

**Retrieval:**
```javascript
core4_getToday()                    // Today's entries
core4_getWeekSummary(weekKey)       // Weekly summary
core4_buildWeeklyReportText(weekKey) // Text report
core4_exportWeekSummaryToDrive(weekKey) // Save to Drive
```

#### Script Properties
- `CORE4_SHEET_ID` (optional; auto-created if missing)

#### Weekly Target
- **28 points** (4 per day √ó 7 days)
- JSON is primary log; sheet is index

---

### Node.js Implementation

#### Entry
- **UI:** `http://127.0.0.1:8799/core4`

#### Storage
- **Local JSON:** `~/.local/share/alphaos` (core4 TTY)

#### API (Node.js Endpoints)

**Logging:**
```bash
POST /api/core4
```

**Retrieval:**
```bash
GET /api/core4/today
```

#### Environment Variables
```bash
AOS_BRIDGE_URL          # Bridge connection URL
BRIDGE_TIMEOUT_MS       # Bridge timeout
CORE4_TW_SYNC          # Taskwarrior sync flag (for TTY)
```

#### Features
- Local Core4 tracker
- Taskwarrior bridge integration
- TTY interface support

---

### Telegram Bot Integration

#### Commands (GAS Bot)

**Main:**
```
/core      - Today's Core4 status (all domains)
```

**Individual Tasks:**
```
/fit       - Log Fitness (BODY)
/fue       - Log Fuel (BODY)
/med       - Log Meditation (BEING)
/mem       - Log Memoirs (BEING)
/par       - Log Partner (BALANCE)
/pos       - Log Posterity (BALANCE)
/dis       - Log Discover (BUSINESS)
/dec       - Log Declare (BUSINESS)
```

**Weekly:**
```
/core week - Weekly summary (28-or-die check)
```

#### Workflow
1. User sends `/fit` via Telegram
2. Bot calls `core4_log("Body", "Fitness", now, "telegram", user)`
3. Saved to Drive JSON + Sheet index
4. Response: "‚úÖ Fitness logged! (0.5 points)"

---

## Data Flow (Complete System)

### Logging Flow

```
User Action (Web/Telegram/Node)
    ‚Üì
core4_log(domain, task, timestamp, source, user)
    ‚Üì
Save to JSON: Alpha_Core4/week_YYYY_WW.json
    ‚Üì
Update Sheet: Core4_Log (index row)
    ‚Üì
Calculate Daily Total (max 4 points)
    ‚Üì
Calculate Weekly Total (max 28 points)
```

### Retrieval Flow

```
GET /api/core4/today (Node.js)
    OR
core4_getToday() (GAS)
    ‚Üì
Read: Alpha_Core4/week_YYYY_WW.json
    ‚Üì
Filter: entries for today's date
    ‚Üì
Return: {
  BODY: { Fitness: true, Fuel: false },
  BEING: { Meditation: true, Memoirs: true },
  BALANCE: { Partner: false, Posterity: false },
  BUSINESS: { Discover: true, Declare: false },
  total: 2.5
}
```

### Weekly Report Flow

```
Sunday Night (or manual trigger)
    ‚Üì
core4_getWeekSummary(weekKey)
    ‚Üì
Calculate:
  - Total points this week
  - Which tasks completed
  - Domain breakdown
    ‚Üì
core4_buildWeeklyReportText(weekKey)
    ‚Üì
Export: core4_exportWeekSummaryToDrive(weekKey)
    ‚Üì
Telegram: Send summary via bot
```

---

## Testing

### Quick Smoke Test

```bash
# 1. Log via GAS (Web UI)
# Open: https://script.google.com/... (HQ Index)
# Click: Fitness button
# Verify: JSON saved to Drive

# 2. Log via Telegram
# Send: /fit
# Verify: ‚úÖ response + JSON updated

# 3. Log via Node.js
curl -X POST http://127.0.0.1:8799/api/core4 \
  -H "Content-Type: application/json" \
  -d '{"domain": "Body", "task": "Fitness"}'

# 4. Get Today's Status
curl http://127.0.0.1:8799/api/core4/today

# 5. Check Weekly Summary (GAS)
# Script Editor ‚Üí core4_getWeekSummary("2026-02")
```

---

## Setup Checklist

### GAS Setup (Run Once)

```javascript
// 1. Create Core4 Sheet (auto or manual)
CORE4_SHEET_ID = "..." // Optional (auto-created if missing)

// 2. Create Drive Folder
Alpha_Core4/ (manually or via script)

// 3. Deploy Telegram Bot
TELEGRAM_BOT_TOKEN = "..."
CORE4_BOT_USERNAME = "@your_core4_bot"

// 4. Test Logging
core4_log("Body", "Fitness", new Date(), "web", "alpha")
```

### Node.js Setup

```bash
# .env
AOS_BRIDGE_URL=http://localhost:8080
BRIDGE_TIMEOUT_MS=5000
CORE4_TW_SYNC=true
```

### First Week Workflow

**Monday:**
1. Morning: `/med` + `/mem` (BEING = 1 point)
2. Afternoon: `/fit` + `/fue` (BODY = 1 point)
3. Evening: `/par` + `/pos` (BALANCE = 1 point)
4. Night: `/dis` + `/dec` (BUSINESS = 1 point)
5. Check: `/core` ‚Üí Should show 4 points

**Sunday Night:**
1. Check: `/core week`
2. Target: 28 points (28-or-die)
3. Review: Which domains were neglected?
4. Plan: Next week's focus

---

## System Architecture (End-to-End)

If you only remember one thing:

1. **Truth = append-only event ledger** under `.core4/events/**`
2. Everything else (week/day JSON, CSV, Taskwarrior, UI state) is **derived or a transport**
3. Sync copies only `.core4/**` to avoid Google Drive duplicate-name issues

### Vocabulary

- **habit**: one of the 8 Core4 habits (fitness, fuel, meditation, memoirs, partner/person1, posterity/person2, discover, declare)
- **event**: one JSON file representing one "done" (or correction) for one habit on one day
- **key**: stable identity for dedupe: `YYYY-MM-DD:domain:task`
- **ledger**: the directory tree containing events (append-only)
- **derived**: any snapshot/export rebuilt from events (safe to overwrite)

### Components

| # | Component | Code | Purpose |
|---|-----------|------|---------|
| 1 | **Core4 CLI** | `python-core4/tracker.py` | Fastest capture path; offline/local-first via ledger fallback |
| 2 | **core4ctl** | `python-core4/core4ctl` | Ops wrapper (track, sync, service, install, menu sub-tools) |
| 3 | **Bridge** | `bridge/app.py` | Local HTTP API convergence point for all portals |
| 4 | **GAS** | `gas/core4.gs` | Cloud/mobile-first; writes events to Drive |
| 5 | **TW Hook** | `on-modify.99-alphaos.py` | Side effects pipeline (Bridge log + TickTick + Telegram) |
| 6 | **Index Node** | `index-node/server.js` | Local HQ UI + API; forwards to Bridge |
| 7 | **Router Bot** | `router/extensions/core4_actions.py` | Telegram shortcuts (`/fit` etc.) |

### End-to-End Flows

**A) Terminal (`core4 fitness`):**
1. `core4` ‚Üí `POST /bridge/core4/log`
2. Bridge appends event to local ledger
3. Optional: Bridge completes TW task (async)
4. Fallback: if Bridge down, `core4` writes event directly to local ledger

**B) GAS HQ / Telegram button:**
1. GAS writes event to Drive ledger (`Alpha_Core4/.core4/events/...`)
2. GAS sends silent Telegram proof message
3. GAS pings Bridge `POST /bridge/core4/pull` (throttled)
4. Bridge pulls `.core4/**` into `~/AlphaOS-Vault/Alpha_Core4`
5. Local tools recompute scores from merged ledger

---

## Storage Model (Event Ledger)

### Source of Truth (append-only)

**Local (primary write target):**
- `~/AlphaOS-Vault/Core4/.core4/events/YYYY-MM-DD/*.json`

**GDrive mount (written by GAS or pulled from Drive):**
- `~/AlphaOS-Vault/Alpha_Core4/.core4/events/YYYY-MM-DD/*.json`

**Rules:**
- Multiple writers may create events for the same `key`. That is allowed.
- Scoring dedupes by `key` and uses a merge rule (latest/done wins).
- We do not "edit" old events. Corrections are new events.

### Derived Artifacts (rebuildable)

- Day: `~/AlphaOS-Vault/Core4/core4_day_YYYY-MM-DD.json`
- Week: `~/AlphaOS-Vault/Core4/core4_week_YYYY-Www.json`
- Rolling daily CSV (~8 weeks): `~/AlphaOS-Vault/Core4/core4_daily.csv`
- Month close archive: `~/AlphaOS-Vault/Core4/core4_YYYY-MM.csv`
- Legacy weekly seal (optional): `~/AlphaOS-Vault/Core4/core4_scores.csv`

### Sync Rule (Critical)

Google Drive can create duplicate names for derived JSON. To avoid this:
- rclone push/pull copies **only**: `.core4/**`
- derived JSON/CSV is rebuilt locally as needed

### Writers

| Writer | Code | Writes To |
|--------|------|-----------|
| **Local CLI** | `python-core4/tracker.py` | Local ledger + rebuilds day/week JSON |
| **Bridge** | `bridge/app.py` | Local ledger + rebuilds day/week JSON |
| **GAS** | `gas/core4.gs` | Drive `Alpha_Core4/.core4/events/` |
| **TW Hook** | `on-modify.99-alphaos.py` | Bridge (fallback: local event) |

---

## Retention & Cleanup

- **Events lokal nur ~8 Wochen behalten** (f√ºr Nachz√ºgler / Sync-Lag):
  - `core4 prune-events --keep-weeks=8`
- **Langzeit-Chronik √ºber CSV** (Monatsabschluss):
  - `core4 finalize-month YYYY-MM`

### Related CLI Commands

```bash
core4 -d                              # Day score (read-only)
core4 -w                              # Week score (read-only)
core4 build                           # Write derived day/week snapshots
core4 export-daily --days=56          # Regenerate rolling daily CSV
core4 finalize-month 2026-01          # Write month-close CSV
core4 prune-events --keep-weeks=8     # Delete old local events
core4 finalize-week 2026-W03          # Legacy weekly seal
core4 sources                         # Show configured event sources
```

### Taskwarrior Integration (Transport, not Truth)

Taskwarrior is **not** the score truth (that's the event ledger), but an integration transport:

```
project:<habit>  (e.g. project:fitness)
tags: <habit> core4_YYYYMMDD
description: Core4 <habit> (YYYY-MM-DD)
```

Reports:
- `task core` / `task core4`: today's Core4 tasks
- `task 28`: last 7 days completed Core4 tasks

---

## Optional Automation (systemd user timers)

Templates live in `aos-hub/systemd/` and are intentionally not enabled automatically.

**Install:** `aos-hub/python-core4/core4ctl install-timers`

**Enable:**
```bash
systemctl --user daemon-reload
systemctl --user enable --now core4-daily.timer core4-prune.timer core4-month-close.timer
```

| Timer | Command | Purpose |
|-------|---------|---------|
| `core4-daily.timer` | `core4 export-daily --days=56` | Regenerate rolling daily CSV |
| `core4-prune.timer` | `core4 prune-events --keep-weeks=8` | Prune old local events |
| `core4-month-close.timer` | finalize previous month | Write month-close CSV on the 1st |

---

## Debug / Runbook

### Check what the laptop thinks (Bridge)
```bash
curl http://127.0.0.1:8080/bridge/core4/today
curl -X POST http://127.0.0.1:8080/bridge/core4/pull
```

### Check what index-node shows
```bash
curl "http://127.0.0.1:8799/api/core4/today?debug=1"
```

### Check sources on disk (CLI)
```bash
core4 sources
core4 -d
core4 -w
```

### Check Drive consistency (rclone)
```bash
rclone check ~/AlphaOS-Vault/Core4/.core4 eldanioo:Alpha_Core4/.core4 --one-way
rclone check ~/AlphaOS-Vault/Alpha_Core4/.core4 eldanioo:Alpha_Core4/.core4 --one-way
```

### Common Issues

- **Score in CLI fehlt, obwohl GAS geloggt wurde:** Check mount exists (`ls ~/AlphaOS-Vault/Alpha_Core4/.core4/events/YYYY-MM-DD/`), then `core4 -d` / `core4 -w` to recompute.
- **Doppelte Taskwarrior Tasks:** Score z√§hlt trotzdem nicht doppelt (dedupe via `key`); find with `task 28` and delete manually.
- **Bridge down:** Hooks/CLI fall back to local event writeback; entries sync on next push.

---

## Config Pointers

| Scope | Variable | Purpose |
|-------|----------|---------|
| Common | `AOS_VAULT_DIR` | Defaults to `~/AlphaOS-Vault` |
| Common | `AOS_BRIDGE_URL` | Bridge connection URL |
| Common | `AOS_CORE4_DIRS` | Tracker read roots (colon-separated; default: `Core4:Alpha_Core4`) |
| Bridge | `AOS_CORE4_LOCAL_DIR` | Local ledger dir |
| Bridge | `AOS_CORE4_MOUNT_DIR` | Drive mount dir |
| Bridge | `AOS_CORE4CTL_BIN` | Where Bridge finds `core4ctl` |
| Index | `AOS_BRIDGE_URL` | Must be present in running service env |
| Index | `BRIDGE_TIMEOUT_MS` | Bridge timeout |
| Index | `CORE4_TW_SYNC` | Taskwarrior sync flag |

### Design Constraints

- Multiple writers exist (local, GAS, hooks). Ledger + dedupe is the only safe model.
- Google Drive duplicates derived files by name; syncing only `.core4/**` avoids corruption.
- Side effects (TickTick, Telegram) must never block logging, so they are best-effort.

---

## Related Documentation

- [door.md](door.md) - Weekly Tactics (4P Flow)
- [game.md](game.md) - Strategic Maps (Frame‚ÜíFire‚ÜíTent)
- [voice.md](voice.md) - Mental Mastery
- [gas/README.md](../gas/README.md) - GAS HQ full docs
- [node/README.md](../node/README.md) - Node.js server docs
- [AlphaOS-THE-CORE-FOUR.md](~/Dokumente/AlphaOs-Vault/ALPHA_OS/AlphaOS-THE-CORE-FOUR.md) - Elliott Hulse Blueprint (Chapters 13-18)

---

**Last Updated:** 2026-01-10
**Œ±OS Philosophy:** Elliott Hulse Blueprints (Chapters 13-18 - THE CORE FOUR)
**Implementation Status:** ‚úÖ GAS (Full) | ‚úÖ Node.js (Basic) | ‚úÖ Telegram Bot (8 commands)
